<!DOCTYPE html>
<html lang="es" class="h-full">
<head>
  <meta name="google-adsense-account" content="ca-pub-3882862564129255">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AssaApp's Premium – Descargas</title>
  <link rel="icon" href="favicon.svg" />
  <meta name="theme-color" content="#0F172A" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Prefetch de Emuladores para carga más rápida -->
  <link rel="prefetch" href="emuladores.html" as="document" />

  <!-- Nuestros estilos -->
  <link rel="stylesheet" href="assets/style.css" />
  <style>
    /* Reglas de filtrado por categoría usando sólo CSS (+ un toque de JS para setear data-filter) */
    #app[data-filter="juegos"] .app-card:not([data-category~="juegos"]) { display: none !important; }
    #app[data-filter="aplicaciones"] .app-card:not([data-category~="aplicaciones"]) { display: none !important; }
    #app[data-filter="programas"] .app-card:not([data-category~="programas"]) { display: none !important; }
    #app[data-filter="sistemas"] .app-card:not([data-category~="sistemas"]) { display: none !important; }

    /* Estilos del control segmentado */
    .segmented {
      display: grid;
      grid-auto-flow: column;
      gap: .5rem;
      padding: .5rem;
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgb(30, 41, 59);
      border-radius: 1rem;
      backdrop-filter: blur(8px);
    }
    .segmented input { display: none; }
    .segmented label {
      display: inline-flex; align-items: center; gap: .5rem;
      padding: .5rem .9rem; border-radius: .8rem;
      font-weight: 600; font-size: .9rem; color: rgb(203, 213, 225);
      cursor: pointer; white-space: nowrap;
      transition: all .15s ease;
    }
    .segmented label:hover { background: rgba(51, 65, 85, .4); color: #fff; }
    .segmented input:checked + label {
      background: rgb(2, 132, 199); color: #fff; box-shadow: 0 0 0 2px rgba(56, 189, 248,.4) inset;
    }
    /* Chips scrollables en móvil */
    .segmented-wrap { overflow-x: auto; scrollbar-width: thin; }

    /* Overlay mínimo para que el card completo sea clickeable (el resto del CSS del carrusel va en assets/style.css) */
    #featured .item .item-link{position:absolute;inset:0;display:block;border-radius:inherit;z-index:2}
    #featured .item .content{position:relative;z-index:3}
  </style>
</head>
<body class="h-full bg-slate-950 text-slate-100">
  
  <!-- Header -->
  <header class="sticky top-0 z-40 backdrop-blur border-b border-slate-800">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center gap-4">
      <a href="#/" class="flex items-center gap-2">
        <div class="size-8 rounded-2xl bg-sky-500 grid place-content-center font-black">A</div>
        <div class="font-semibold tracking-tight">AssaApp's <span class="text-slate-400 font-normal">Premium</span></div>
      </a>

      <div class="ms-auto w-full max-w-lg">
        <label class="relative block">
          <input id="searchInput" placeholder="Buscar apps…"
            class="w-full rounded-2xl bg-slate-900/70 border border-slate-800 px-4 py-2 pe-10 outline-none focus:ring-2 focus:ring-sky-500" />
          <svg viewBox="0 0 20 20" class="pointer-events-none absolute right-3 top-1/2 size-5 -translate-y-1/2 opacity-60"><path fill="currentColor" d="M12.9 14.32a8 8 0 1 1 1.41-1.41l3.39 3.39-1.41 1.41zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12"/></svg>
        </label>
      </div>

      <a href="emuladores.html"
         class="inline-flex items-center justify-center gap-2
                px-4 py-2 rounded-xl text-sm font-semibold
                text-white bg-gradient-to-r from-sky-500 via-indigo-500 to-fuchsia-500
                shadow-md shadow-indigo-900/40 ring-1 ring-white/10
                hover:from-sky-400 hover:via-indigo-400 hover:to-fuchsia-400
                hover:shadow-lg hover:shadow-indigo-900/50
                active:scale-[.98] transition">
        Emuladores
      </a>

      <a id="ytLinkTop" target="_blank" class="rounded-2xl bg-red-600/90 hover:bg-red-600 px-4 py-2 text-sm font-semibold">YouTube</a>
    </div>
  </header>
 
  <!-- Main -->
  <main id="app" class="mx-auto max-w-7xl px-4 py-6" data-filter="todos">

    <!-- ⭐ Destacados del mes (Carrusel estilo card) -->
    <section id="featured" class="relative mb-8">
      <h2 class="text-xl md:text-2xl font-bold mb-3">⭐ Destacados del mes</h2>

      <ul class="slider" role="list" aria-label="Destacados del mes">
        <!-- El JS llenará los <li class="item"> con tus destacados -->
      </ul>

      <nav class="nav" aria-label="Controles del carrusel">
        <ion-icon class="btn prev" name="arrow-back-outline" aria-label="Anterior"></ion-icon>
        <ion-icon class="btn next" name="arrow-forward-outline" aria-label="Siguiente"></ion-icon>
      </nav>
    </section>

    <!-- Barra de filtros -->
    <section id="filtros" class="mb-6">
      <div class="segmented-wrap">
        <div class="segmented min-w-max">
          <!-- Todos -->
          <input type="radio" name="cat" id="f-todos" value="todos" checked>
          <label for="f-todos" title="Mostrar todo">
            <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"/></svg>
            Todos
          </label>
          <!-- Juegos -->
          <input type="radio" name="cat" id="f-juegos" value="juegos">
          <label for="f-juegos" title="Sólo juegos">
            <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M17 6H7a5 5 0 0 0-5 5v2a5 5 0 0 0 5 5h1l2-2h4l2 2h1a5 5 0 0 0 5-5v-2a5 5 0 0 0-5-5M8.5 13A1.5 1.5 0 1 1 10 11.5A1.5 1.5 0 0 1 8.5 13M15.5 13A1.5 1.5 0 1 1 17 11.5A1.5 1.5 0 0 1 15.5 13Z"/></svg>
            Juegos
          </label>
          <!-- Aplicaciones -->
          <input type="radio" name="cat" id="f-aplicaciones" value="aplicaciones">
          <label for="f-aplicaciones" title="Sólo aplicaciones">
            <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h18v4H3zm0 5h18v4H3zm0 5h18v4H3z"/></svg>
            Aplicaciones
          </label>
          <!-- Programas -->
          <input type="radio" name="cat" id="f-programas" value="programas">
          <label for="f-programas" title="Sólo programas (PC)">
            <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M4 6h16v10H4zM2 18h20v2H2z"/></svg>
            Programas
          </label>
          <!-- Sistemas operativos -->
          <input type="radio" name="cat" id="f-sistemas" value="sistemas">
          <label for="f-sistemas" title="Sólo sistemas operativos">
            <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M4 4h16v12H4zM2 18h20v2H2z"/></svg>
            Sistemas
          </label>
        </div>
      </div>
    </section>

    <!-- Vista de detalle de app -->
    <div id="app-detail" class="hidden space-y-6">
      <img id="app-image" src="" alt="" class="w-40 rounded-2xl shadow-md">
      <h2 id="app-title" class="text-2xl font-bold"></h2>
      <p id="app-description" class="text-slate-300"></p>

      <div class="space-y-4">
        <p>Suscríbete a los dos canales para desbloquear la descarga:</p>
        <button id="sub-principal" class="rounded-2xl bg-red-600/90 hover:bg-red-600 px-4 py-2 text-sm font-semibold">
          Suscribirse Canal Principal
        </button>
        <button id="sub-secundario" class="rounded-2xl bg-red-600/90 hover:bg-red-600 px-4 py-2 text-sm font-semibold">
          Suscribirse Canal Secundario
        </button>
        <p id="countdown" class="text-yellow-400 font-semibold"></p>
      </div>

      <a id="download-btn" target="_blank"
         class="hidden rounded-2xl bg-sky-600 hover:bg-sky-500 px-6 py-3 text-lg font-bold text-white shadow-md">
         Descargar
      </a>
    </div>
  </main>

  <!-- Footer -->
  <footer class="mt-16 border-t border-slate-800/80">
    <div class="mx-auto max-w-7xl px-4 py-10 text-sm text-slate-400 flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
      <p>© <span id="year"></span> AssaApp's Premium. Todos los derechos reservados.</p>
      <p class="max-w-3xl">Aviso: provee enlaces externos. Verifica licencias/términos de uso de cada software antes de descargar. Este sitio no aloja archivos con copyright.</p>
    </div>
  </footer>

  <!-- Script principal -->
  <script src="assets/app.js"></script>

  <!-- Ionicons -->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <!-- Script del filtro + Nav -->
  <script>
    // Set año footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Cambia el atributo data-filter en #app para que el CSS oculte/ muestre
    const appEl = document.getElementById('app');
    document.querySelectorAll('input[name="cat"]').forEach(r => {
      r.addEventListener('change', () => {
        appEl.dataset.filter = r.value; // "todos", "juegos", "aplicaciones", "programas", "sistemas"
      });
    });

    // Evento opcional para tu app.js
    document.querySelectorAll('input[name="cat"]').forEach(r => {
      r.addEventListener('change', () => {
        const ev = new CustomEvent('catalog:filter-change', { detail: { value: r.value }});
        window.dispatchEvent(ev);
      });
    });

    // Nav: al click en "Juegos" activa el filtro y hace scroll suave
    const navJuegos = document.getElementById('navJuegos');
    if (navJuegos) {
      navJuegos.addEventListener('click', (e) => {
        e.preventDefault();
        const radio = document.getElementById('f-juegos');
        if (radio) {
          radio.checked = true;
          radio.dispatchEvent(new Event('change', { bubbles: true }));
        }
        document.getElementById('filtros')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    }
  </script>
</body>
</html>

